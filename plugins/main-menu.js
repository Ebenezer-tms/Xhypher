const config = require('../config')
const { cmd, commands } = require('../command');
const os = require("os")
const {runtime} = require('../lib/functions')
const axios = require('axios')

function formatTime(seconds) {
    const days = Math.floor(seconds / (24 * 60 * 60));
    seconds = seconds % (24 * 60 * 60);
    const hours = Math.floor(seconds / (60 * 60));
    seconds = seconds % (60 * 60);
    const minutes = Math.floor(seconds / 60);
    seconds = Math.floor(seconds % 60);

    let time = '';
    if (days > 0) time += `${days}d `;
    if (hours > 0) time += `${hours}h `;
    if (minutes > 0) time += `${minutes}m `;
    if (seconds > 0 || time === '') time += `${seconds}s`;

    return time.trim();
}

// ğŸ§© Host Detection Function
function detectHost() {
    const env = process.env;

    if (env.RENDER || env.RENDER_EXTERNAL_URL) return 'Render';
    if (env.DYNO || env.HEROKU_APP_DIR || env.HEROKU_SLUG_COMMIT) return 'Heroku';
    if (env.VERCEL || env.VERCEL_ENV || env.VERCEL_URL) return 'Vercel';
    if (env.RAILWAY_ENVIRONMENT || env.RAILWAY_PROJECT_ID) return 'Railway';
    if (env.REPL_ID || env.REPL_SLUG) return 'Replit';

    const hostname = os.hostname().toLowerCase();
    if (!env.CLOUD_PROVIDER && !env.DYNO && !env.VERCEL && !env.RENDER) {
        if (hostname.includes('vps') || hostname.includes('server')) return 'VPS';
        return 'Panel';
    }

    return 'Unknown Host';
}


async function helpCommand(sock, chatId, message) {
    

let data = JSON.parse(fs.readFileSync('./data/messageCount.json'));
    const start = Date.now();
    await sock.sendMessage(chatId, { text: 'Wait Loading Menu...â™»ï¸' }, { quoted: message });
    const end = Date.now();
    const ping = Math.round((end - start) / 2);

const uptimeInSeconds = process.uptime();
const uptimeFormatted = formatTime(uptimeInSeconds);
const currentMode = data.isPublic ? 'public' : 'private';    
const hostName = detectHost();

cmd({
    pattern: "menu2",
    alias: ["allmenu","fullmenu"],use: '.menu2',
    desc: "menu the bot",
    category: "menu",
    react: "âš¡",
    filename: __filename
}, 
async (conn, mek, m, { from, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply }) => {
    try {
        let dec = `â”â  *â´ã€Š ${config.BOT_NAME} ã€‹âµ* â
        
â”œâ—† *Owner:* ${config.OWNER_NAME}
â”œâ—† *Host:* ${hostName}
â”œâ—† *Speed:* ${ping} ms
â”œâ—† *Uptime:* ${uptimeFormatted}
â”œâ—† *Mode:* [${config.MODE}]
â”œâ—† *Prefix:* [${config.PREFIX}]
â”œâ—† *Vision:* 1.0.0 Bá´‡á´›á´€
â”—â

â”â ã€” *Download Menu* ã€•â
â”ƒâ”ƒ
â”ƒâ”ƒâ€¢ facebook
â”ƒâ”ƒâ€¢ mediafire
â”ƒâ”ƒâ€¢ tiktok
â”ƒâ”ƒâ€¢ twitter
â”ƒâ”ƒâ€¢ Insta
â”ƒâ”ƒâ€¢ apk
â”ƒâ”ƒâ€¢ img
â”ƒâ”ƒâ€¢ tt2
â”ƒâ”ƒâ€¢ pins
â”ƒâ”ƒâ€¢ apk2
â”ƒâ”ƒâ€¢ fb2
â”ƒâ”ƒâ€¢ pinterest 
â”ƒâ”ƒâ€¢ spotify
â”ƒâ”ƒâ€¢ play
â”ƒâ”ƒâ€¢ play2
â”ƒâ”ƒâ€¢ play3
â”ƒâ”ƒâ€¢ play4
â”ƒâ”ƒâ€¢ play5
â”ƒâ”ƒâ€¢ play6
â”ƒâ”ƒâ€¢ play7
â”ƒâ”ƒâ€¢ play8
â”ƒâ”ƒâ€¢ play9
â”ƒâ”ƒâ€¢ play10
â”ƒâ”ƒâ€¢ audio
â”ƒâ”ƒâ€¢ video
â”ƒâ”ƒâ€¢ video2
â”ƒâ”ƒâ€¢ video3
â”ƒâ”ƒâ€¢ video4
â”ƒâ”ƒâ€¢ video5
â”ƒâ”ƒâ€¢ video6
â”ƒâ”ƒâ€¢ video7
â”ƒâ”ƒâ€¢ video8
â”ƒâ”ƒâ€¢ video9
â”ƒâ”ƒâ€¢ video10
â”ƒâ”ƒâ€¢ ytmp3
â”ƒâ”ƒâ€¢ ytmp4
â”ƒâ”ƒâ€¢ song
â”ƒâ”ƒâ€¢ darama
â”ƒâ”ƒâ€¢ gdrive
â”ƒâ”ƒâ€¢ ssweb
â”ƒâ”ƒâ€¢ tiks
â”—â”€â”€â
â•­â”â”ã€” *Group Menu* ã€•â”â”â”ˆâŠ·
â”ƒâ—ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·à¹
â”ƒâ—ˆâ”ƒâ€¢ grouplink
â”ƒâ—ˆâ”ƒâ€¢ kickall
â”ƒâ—ˆâ”ƒâ€¢ kickall2
â”ƒâ—ˆâ”ƒâ€¢ kickall3
â”ƒâ—ˆâ”ƒâ€¢ add
â”ƒâ—ˆâ”ƒâ€¢ remove
â”ƒâ—ˆâ”ƒâ€¢ kick
â”ƒâ—ˆâ”ƒâ€¢ promote 
â”ƒâ—ˆâ”ƒâ€¢ demote
â”ƒâ—ˆâ”ƒâ€¢ dismiss 
â”ƒâ—ˆâ”ƒâ€¢ revoke
â”ƒâ—ˆâ”ƒâ€¢ setgoodbye
â”ƒâ—ˆâ”ƒâ€¢ setwelcome
â”ƒâ—ˆâ”ƒâ€¢ delete 
â”ƒâ—ˆâ”ƒâ€¢ getpic
â”ƒâ—ˆâ”ƒâ€¢ ginfo
â”ƒâ—ˆâ”ƒâ€¢ delete 
â”ƒâ—ˆâ”ƒâ€¢ disappear on
â”ƒâ—ˆâ”ƒâ€¢ disappear off
â”ƒâ—ˆâ”ƒâ€¢ disappear 7D,24H
â”ƒâ—ˆâ”ƒâ€¢ allreq
â”ƒâ—ˆâ”ƒâ€¢ updategname
â”ƒâ—ˆâ”ƒâ€¢ updategdesc
â”ƒâ—ˆâ”ƒâ€¢ joinrequests
â”ƒâ—ˆâ”ƒâ€¢ senddm
â”ƒâ—ˆâ”ƒâ€¢ nikal
â”ƒâ—ˆâ”ƒâ€¢ mute
â”ƒâ—ˆâ”ƒâ€¢ unmute
â”ƒâ—ˆâ”ƒâ€¢ lockgc
â”ƒâ—ˆâ”ƒâ€¢ unlockgc
â”ƒâ—ˆâ”ƒâ€¢ invite
â”ƒâ—ˆâ”ƒâ€¢ tag
â”ƒâ—ˆâ”ƒâ€¢ hidetag
â”ƒâ—ˆâ”ƒâ€¢ tagall
â”ƒâ—ˆâ”ƒâ€¢ tagadmins
â”ƒâ—ˆâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•­â”â”ã€” *Owner Menu* ã€•â”â”â”ˆâŠ·
â”ƒâ—ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·à¹
â”ƒâ—ˆâ”ƒâ€¢ owner
â”ƒâ—ˆâ”ƒâ€¢ menu
â”ƒâ—ˆâ”ƒâ€¢ menu2
â”ƒâ—ˆâ”ƒâ€¢ vv
â”ƒâ—ˆâ”ƒâ€¢ listcmd
â”ƒâ—ˆâ”ƒâ€¢ allmenu
â”ƒâ—ˆâ”ƒâ€¢ repo
â”ƒâ—ˆâ”ƒâ€¢ block
â”ƒâ—ˆâ”ƒâ€¢ unblock
â”ƒâ—ˆâ”ƒâ€¢ fullpp
â”ƒâ—ˆâ”ƒâ€¢ setpp
â”ƒâ—ˆâ”ƒâ€¢ restart
â”ƒâ—ˆâ”ƒâ€¢ shutdown
â”ƒâ—ˆâ”ƒâ€¢ updatecmd
â”ƒâ—ˆâ”ƒâ€¢ alive
â”ƒâ—ˆâ”ƒâ€¢ ping 
â”ƒâ—ˆâ”ƒâ€¢ gjid
â”ƒâ—ˆâ”ƒâ€¢ jid
â”ƒâ—ˆâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•­â”â”ã€” *Fun Menu* ã€•â”â”â”ˆâŠ·
â”ƒâ—ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·à¹
â”ƒâ—ˆâ”ƒâ€¢ shapar
â”ƒâ—ˆâ”ƒâ€¢ rate
â”ƒâ—ˆâ”ƒâ€¢ insult
â”ƒâ—ˆâ”ƒâ€¢ hack
â”ƒâ—ˆâ”ƒâ€¢ ship
â”ƒâ—ˆâ”ƒâ€¢ character
â”ƒâ—ˆâ”ƒâ€¢ pickup 
â”ƒâ—ˆâ”ƒâ€¢ joke
â”ƒâ—ˆâ”ƒâ€¢ hrt
â”ƒâ—ˆâ”ƒâ€¢ hpy
â”ƒâ—ˆâ”ƒâ€¢ syd
â”ƒâ—ˆâ”ƒâ€¢ anger
â”ƒâ—ˆâ”ƒâ€¢ shy
â”ƒâ—ˆâ”ƒâ€¢ kiss
â”ƒâ—ˆâ”ƒâ€¢ mon
â”ƒâ—ˆâ”ƒâ€¢ cunfuzed
â”ƒâ—ˆâ”ƒâ€¢ setpp
â”ƒâ—ˆâ”ƒâ€¢ hand
â”ƒâ—ˆâ”ƒâ€¢ nikal
â”ƒâ—ˆâ”ƒâ€¢ hold
â”ƒâ—ˆâ”ƒâ€¢ hug
â”ƒâ—ˆâ”ƒâ€¢ nikal
â”ƒâ—ˆâ”ƒâ€¢ hifi
â”ƒâ—ˆâ”ƒâ€¢ poke
â”ƒâ—ˆâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•­â”â”ã€” *Convert Menu* ã€•â”â”â”ˆâŠ·
â”ƒâ—ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·à¹
â”ƒâ—ˆâ”ƒâ€¢ sticker
â”ƒâ—ˆâ”ƒâ€¢ sticker2
â”ƒâ—ˆâ”ƒâ€¢ emojimix
â”ƒâ—ˆâ”ƒâ€¢ fancy
â”ƒâ—ˆâ”ƒâ€¢ take
â”ƒâ—ˆâ”ƒâ€¢ tomp3
â”ƒâ—ˆâ”ƒâ€¢ tts
â”ƒâ—ˆâ”ƒâ€¢ trt
â”ƒâ—ˆâ”ƒâ€¢ base64
â”ƒâ—ˆâ”ƒâ€¢ unbase64
â”ƒâ—ˆâ”ƒâ€¢ binary
â”ƒâ—ˆâ”ƒâ€¢ dbinary
â”ƒâ—ˆâ”ƒâ€¢ tinyurl
â”ƒâ—ˆâ”ƒâ€¢ urldecode
â”ƒâ—ˆâ”ƒâ€¢ urlencode
â”ƒâ—ˆâ”ƒâ€¢ url
â”ƒâ—ˆâ”ƒâ€¢ repeat 
â”ƒâ—ˆâ”ƒâ€¢ ask
â”ƒâ—ˆâ”ƒâ€¢ readmore
â”ƒâ—ˆâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•­â”â”ã€” *Ai Menu* ã€•â”â”â”ˆâŠ·
â”ƒâ—ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·à¹
â”ƒâ—ˆâ”ƒâ€¢ ai
â”ƒâ—ˆâ”ƒâ€¢ gpt3
â”ƒâ—ˆâ”ƒâ€¢ gpt2
â”ƒâ—ˆâ”ƒâ€¢ gptmini
â”ƒâ—ˆâ”ƒâ€¢ gpt
â”ƒâ—ˆâ”ƒâ€¢ meta
â”ƒâ—ˆâ”ƒâ€¢ blackbox
â”ƒâ—ˆâ”ƒâ€¢ luma
â”ƒâ—ˆâ”ƒâ€¢ dj 
â”ƒâ—ˆâ”ƒâ€¢ khan
â”ƒâ—ˆâ”ƒâ€¢ jawad
â”ƒâ—ˆâ”ƒâ€¢ gpt4
â”ƒâ—ˆâ”ƒâ€¢ bing
â”ƒâ—ˆâ”ƒâ€¢ imagine 
â”ƒâ—ˆâ”ƒâ€¢ imagine2
â”ƒâ—ˆâ”ƒâ€¢ copilot
â”ƒâ—ˆâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•­â”â”ã€” *Main Menu* ã€•â”â”â”ˆâŠ·
â”ƒâ—ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·à¹
â”ƒâ—ˆâ”ƒâ€¢ ping
â”ƒâ—ˆâ”ƒâ€¢ ping2
â”ƒâ—ˆâ”ƒâ€¢ speed
â”ƒâ—ˆâ”ƒâ€¢ live 
â”ƒâ—ˆâ”ƒâ€¢ alive
â”ƒâ—ˆâ”ƒâ€¢ runtime
â”ƒâ—ˆâ”ƒâ€¢ uptime 
â”ƒâ—ˆâ”ƒâ€¢ repo
â”ƒâ—ˆâ”ƒâ€¢ owner
â”ƒâ—ˆâ”ƒâ€¢ menu
â”ƒâ—ˆâ”ƒâ€¢ menu2
â”ƒâ—ˆâ”ƒâ€¢ restart
â”ƒâ—ˆâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•­â”â”ã€” *Anime Menu* ã€•â”â”â”ˆâŠ·
â”ƒâ—ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·à¹
â”ƒâ—ˆâ”ƒâ€¢ fack
â”ƒâ—ˆâ”ƒâ€¢ truth
â”ƒâ—ˆâ”ƒâ€¢ dare
â”ƒâ—ˆâ”ƒâ€¢ dog
â”ƒâ—ˆâ”ƒâ€¢ awoo
â”ƒâ—ˆâ”ƒâ€¢ garl
â”ƒâ—ˆâ”ƒâ€¢ waifu
â”ƒâ—ˆâ”ƒâ€¢ neko
â”ƒâ—ˆâ”ƒâ€¢ megnumin
â”ƒâ—ˆâ”ƒâ€¢ neko
â”ƒâ—ˆâ”ƒâ€¢ maid
â”ƒâ—ˆâ”ƒâ€¢ loli
â”ƒâ—ˆâ”ƒâ€¢ animegirl
â”ƒâ—ˆâ”ƒâ€¢ animegirl
â”ƒâ—ˆâ”ƒâ€¢ animegirl1
â”ƒâ—ˆâ”ƒâ€¢ animegirl2
â”ƒâ—ˆâ”ƒâ€¢ animegirl3
â”ƒâ—ˆâ”ƒâ€¢ animegirl4
â”ƒâ—ˆâ”ƒâ€¢ animegirl5
â”ƒâ—ˆâ”ƒâ€¢ anime1
â”ƒâ—ˆâ”ƒâ€¢ anime1
â”ƒâ—ˆâ”ƒâ€¢ anime2
â”ƒâ—ˆâ”ƒâ€¢ anime3
â”ƒâ—ˆâ”ƒâ€¢ anime4
â”ƒâ—ˆâ”ƒâ€¢ anime5
â”ƒâ—ˆâ”ƒâ€¢ animenews
â”ƒâ—ˆâ”ƒâ€¢ foxgirl
â”ƒâ—ˆâ”ƒâ€¢ naruto
â”ƒâ—ˆâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•­â”â”ã€” *Other Menu* ã€•â”â”â”ˆâŠ·
â”ƒâ—ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·à¹
â”ƒâ—ˆâ”ƒâ€¢ timenow
â”ƒâ—ˆâ”ƒâ€¢ date
â”ƒâ—ˆâ”ƒâ€¢ count
â”ƒâ—ˆâ”ƒâ€¢ calculate
â”ƒâ—ˆâ”ƒâ€¢ countx
â”ƒâ—ˆâ”ƒâ€¢ flip
â”ƒâ—ˆâ”ƒâ€¢ coinflip
â”ƒâ—ˆâ”ƒâ€¢ rcolor
â”ƒâ—ˆâ”ƒâ€¢ roll
â”ƒâ—ˆâ”ƒâ€¢ fact
â”ƒâ—ˆâ”ƒâ€¢ cpp
â”ƒâ—ˆâ”ƒâ€¢ rw
â”ƒâ—ˆâ”ƒâ€¢ pair
â”ƒâ—ˆâ”ƒâ€¢ pair2
â”ƒâ—ˆâ”ƒâ€¢ pair3
â”ƒâ—ˆâ”ƒâ€¢ fancy
â”ƒâ—ˆâ”ƒâ€¢ logo <text>
â”ƒâ—ˆâ”ƒâ€¢ define
â”ƒâ—ˆâ”ƒâ€¢ news
â”ƒâ—ˆâ”ƒâ€¢ movie
â”ƒâ—ˆâ”ƒâ€¢ weather
â”ƒâ—ˆâ”ƒâ€¢ srepo
â”ƒâ—ˆâ”ƒâ€¢ insult
â”ƒâ—ˆâ”ƒâ€¢ save
â”ƒâ—ˆâ”ƒâ€¢ wikipedia
â”ƒâ—ˆâ”ƒâ€¢ gpass
â”ƒâ—ˆâ”ƒâ€¢ githubstalk
â”ƒâ—ˆâ”ƒâ€¢ yts
â”ƒâ—ˆâ”ƒâ€¢ ytv
â”ƒâ—ˆâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·
> ${config.DESCRIPTION}`;

        await conn.sendMessage(
            from,
            {
                image: { url: `https://files.catbox.moe/juroe8.jpg` },
                caption: dec,
                contextInfo: {
                    mentionedJid: [m.sender],
                    forwardingScore: 999,
                    isForwarded: true,
                    forwardedNewsletterMessageInfo: {
                        newsletterJid: '120363401148284316@newsletter',
                        newsletterName: 'Xhyphertech',
                        serverMessageId: 143
                    }
                }
            },
            { quoted: mek }
        );

        // Send audio
        await conn.sendMessage(from, {
            audio: { url: 'https://github.com/JawadYTX/KHAN-DATA/raw/refs/heads/main/autovoice/menunew.m4a' },
            mimetype: 'audio/mp4',
            ptt: true
        }, { quoted: mek });
        
    } catch (e) {
        console.log(e);
        reply(`${e}`);
    }
});
